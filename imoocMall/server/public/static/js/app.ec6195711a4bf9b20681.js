webpackJsonp([0],{"+pHS":function(t,s,e){t.exports=e.p+"static/img/logo_new.b1ac474.png"},"/JqP":function(t,s,e){"use strict";s.a={name:"Bread"}},"/l80":function(t,s){},"/rwO":function(t,s,e){"use strict";function a(t){e("YFNf")}var i=e("e75Y"),r=e("FFQo"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-37ec0ea4",null);s.a=o.exports},"386N":function(t,s){},"3M7r":function(t,s){},"3N/K":function(t,s,e){"use strict";function a(t){e("cAnY")}var i=e("GUPT"),r=e("GPl3"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,null,null);s.a=o.exports},"5Z7Z":function(t,s,e){"use strict";function a(t){e("LL5F")}var i=e("iumI"),r=e("jBcw"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-6c291cd6",null);s.a=o.exports},"64IQ":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("header",[a("div",{staticClass:"public"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:e("+pHS"),alt:"logo"}})]),t._v(" "),a("div",{staticClass:"userBox"},[""==t.nickName?a("div",{staticClass:"noLogin"},[a("span",{on:{click:function(s){t.isUserLogin=!0}}},[t._v("登录")]),t._v("|"),a("span",{on:{click:function(s){t.isUserRegister=!0}}},[t._v("注册")])]):a("div",{staticClass:"login"},[a("span",[t._v(t._s(t.nickName))]),t._v("|"),a("span",{on:{click:t.logOut}},[t._v("登出")])]),t._v(" "),a("span",{staticClass:"iconfont icon-gouwuche",on:{click:t.goCart}},[t.cartCount?a("span",[t._v(t._s(t.cartCount))]):t._e()])])],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isUserLogin?a("div",{staticClass:"model"},[a("span",{staticClass:"iconfont icon-close",on:{click:function(s){t.isUserLogin=!1}}}),t._v(" "),a("h2",[t._v("Login in")]),t._v(" "),""!=t.userErrTip?a("p",{class:["tip",{err:""!=t.userErrTip}]},[a("span",{staticClass:"iconfont icon-error"}),t._v(t._s(t.userErrTip)+"\n      ")]):t._e(),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"userName",attrs:{type:"text",placeholder:"userName"},domProps:{value:t.userName},on:{input:function(s){s.target.composing||(t.userName=s.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-user"})]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],staticClass:"userPwd",attrs:{type:"password",placeholder:"password"},domProps:{value:t.userPwd},on:{input:function(s){s.target.composing||(t.userPwd=s.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-password"})]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.login}},[t._v("登录")])]):t._e()]),t._v(" "),t.isUserLogin?a("div",{staticClass:"mark",on:{click:function(s){t.isUserLogin=!1}}}):t._e(),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isUserRegister?a("div",{staticClass:"model"},[a("span",{staticClass:"iconfont icon-close",on:{click:function(s){t.isUserRegister=!1}}}),t._v(" "),a("h2",[t._v("Register")]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"userName",attrs:{type:"text",placeholder:"userName"},domProps:{value:t.userName},on:{input:function(s){s.target.composing||(t.userName=s.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-user"})]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],staticClass:"userPwd",attrs:{type:"text",placeholder:"password"},domProps:{value:t.userPwd},on:{input:function(s){s.target.composing||(t.userPwd=s.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-password"})]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],staticClass:"userPwd",attrs:{type:"text",placeholder:"confirm password"},domProps:{value:t.userPwd},on:{input:function(s){s.target.composing||(t.userPwd=s.target.value)}}}),t._v(" "),a("span",{staticClass:"iconfont icon-password"})]),t._v(" "),a("button",{staticClass:"btn"},[t._v("注册")])]):t._e()]),t._v(" "),t.isUserRegister?a("div",{staticClass:"mark",on:{click:function(s){t.isUserRegister=!1}}}):t._e()],1)},i=[],r={render:a,staticRenderFns:i};s.a=r},"7Q5r":function(t,s){},"89j1":function(t,s,e){"use strict";var a=e("mvHQ"),i=e.n(a),r=e("teIl"),n=e("TVmP"),c=e("HtRn"),o=e("3N/K"),d=e("mtWM"),u=e.n(d);s.a={name:"GoodList",data:function(){return{goodList:[],sortFlog:!0,busy:!0,page:1,pageSize:8,priceFilter:[{startPrice:0,endPrice:500},{startPrice:500,endPrice:1e3},{startPrice:1e3,endPrice:2e3},{startPrice:2e3,endPrice:5e3}],priceFilterCheck:"All",isLodingShow:!1,modelMessage:"",isModel:!1}},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(t){var s=this,e={sort:this.sortFlog?1:-1,page:this.page,pageSize:this.pageSize,priceSection:"All"===this.priceFilterCheck?"All":i()(this.priceFilter[this.priceFilterCheck])};u.a.get("/goods",{params:e}).then(function(a){s.isLodingShow=!1;var i=a.data;200===i.status&&(s.goodList=t?s.goodList.concat(i.list):i.list,e.pageSize>i.counts?s.busy=!0:s.busy=!1)})},changePriceFilter:function(t){this.priceFilterCheck=t,this.page=1,this.getGoodsList()},sortPrice:function(){this.sortFlog=!this.sortFlog,this.page=1,this.getGoodsList()},loadMore:function(){var t=this;this.busy=this.isLodingShow=!0,setTimeout(function(){t.page++,t.getGoodsList(!0)},500)},addCart:function(t){var s=this;u.a.post("/goods/addCart",{productId:t}).then(function(t){var e=t.data;s.modelMessage=e.msg,s.isModel=!0,200===e.status&&s.$store.commit("updateCartCount",1)})},closeModel:function(){this.isModel=!1}},components:{NavHeader:r.a,NavFooter:n.a,NavBread:c.a,VueModel:o.a}}},"9Emk":function(t,s){},"9I81":function(t,s,e){"use strict";function a(t){e("XVmu")}var i=e("yNte"),r=e("Gi1T"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-d79e4370",null);s.a=o.exports},BHtX:function(t,s){},FFQo:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("nav-header"),t._v(" "),e("nav-bread",[e("a",{attrs:{href:"javascript:void(0)"}},[t._v("Address")])]),t._v(" "),e("div",{staticClass:"addressPage"},[e("div",{staticClass:"public"},[t._m(0),t._v(" "),e("div",{staticClass:"right address-body"},[e("div",{staticClass:"address-com address-header"},[e("button",{staticClass:"btn"},[t._v("新增收货地址")]),t._v("\n           您已创建"),e("span",[t._v(t._s(this.addressList.length))]),t._v("个收货地址 , 最多可创建20个\n        ")]),t._v(" "),e("div",{staticClass:"address-list"},[e("ul",[t._l(t.addressListFilter,function(s,a){return e("li",{key:a,class:["item",{on:t.addressIndex==a}],on:{click:function(s){t.changeAddressIndex(a)}}},[e("span",{staticClass:"iconfont icon-close",on:{click:function(e){e.stopPropagation(),t.delAddressConfirm(s.addressId)}}}),t._v(" "),e("h2",{staticClass:"des"},[t._v(t._s(s.des)+"\n                "),s.checked?e("span",[t._v("默认地址")]):t._e()]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("收货人：")]),t._v(t._s(s.userName)+"\n              ")]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("所在地区：")]),t._v(t._s(s.location)+"\n              ")]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("地址：")]),t._v(t._s(s.address)+"\n              ")]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("手机：")]),t._v(t._s(s.phone)+"\n              ")]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("固定电话：")]),t._v(t._s(s.tel)+"\n              ")]),t._v(" "),e("div",{staticClass:"item-div"},[e("label",[t._v("电子邮箱：")]),t._v(t._s(s.email)+"\n              ")]),t._v(" "),e("div",{staticClass:"btn-group"},[s.checked?t._e():e("button",{staticClass:"btn",on:{click:function(e){e.stopPropagation(),t.setDefaultChecked(s.addressId)}}},[t._v("设为默认")]),t._v(" "),e("button",{staticClass:"btn"},[t._v("编辑")])])])}),t._v(" "),t.addressList.length>t.defaultlimit?e("div",{staticClass:"tip"},[e("button",{staticClass:"btn",on:{click:t.limitSwitch}},[t._v("\n                MORE"),e("span",{class:["iconfont","icon-spread-up",{"icon-zhankai":t.addressListFilter.length>t.defaultlimit}]})])]):t._e()],2)]),t._v(" "),e("div",{staticClass:"address-com address-footer"},[e("button",{staticClass:"btn"},[t._v("新增收货地址")]),t._v("\n           您已创建"),e("span",[t._v(t._s(this.addressList.length))]),t._v("个收货地址 , 最多可创建20个\n        ")]),t._v(" "),e("div",{staticClass:"next btn",on:{click:t.next}},[t._v("\n          next\n        ")]),t._v(" "),e("div",{staticClass:"next btn left",on:{click:t.prv}},[t._v("\n          prv\n        ")])])]),t._v(" "),e("vue-model",{attrs:{message:t.ModelMessage,isShow:t.isModel},on:{close:function(s){t.isModel=!1}}}),t._v(" "),e("vue-model",{attrs:{message:t.delAddressMessage,isShow:t.IsDelAddressModel,isTimer:!1},on:{close:function(s){t.IsDelAddressModel=!1}}},[e("div",{staticClass:"btngroup",slot:"btngroup"},[e("button",{staticClass:"btn",on:{click:t.delAddress}},[t._v("确认")]),t._v(" "),e("button",{staticClass:"btn cancel right",on:{click:function(s){t.IsDelAddressModel=!1}}},[t._v("取消")])])])],1),t._v(" "),e("nav-footer")],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"left address-nav"},[e("ul",[e("h2",[t._v("设置")]),t._v(" "),e("li",[t._v("用户信息")]),t._v(" "),e("li",[t._v("账户安全")])])])}],r={render:a,staticRenderFns:i};s.a=r},GPl3:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"vue-model"},[e("transition",{attrs:{name:"fade"}},[t.isShow?e("div",{staticClass:"model"},[e("span",{staticClass:"iconfont icon-close",on:{click:t.close}}),t._v(" "),e("h2",[t._v(t._s(t.message))]),t._v(" "),t._t("btngroup")],2):t._e()]),t._v(" "),t.isShow?e("div",{staticClass:"mark",on:{click:t.close}}):t._e()],1)},i=[],r={render:a,staticRenderFns:i};s.a=r},GUPT:function(t,s,e){"use strict";s.a={name:"Model",data:function(){return{timer:""}},props:{isShow:{type:Boolean,default:function(){return!0}},message:{type:String,default:function(){return"模态框!"}},isTimer:{type:Boolean,default:function(){return!0}}},methods:{close:function(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},watch:{isShow:function(){var t=this;this.isShow&&this.isTimer&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.close()},3e3))}}}},GWJv:function(t,s,e){"use strict";function a(t){e("/l80")}var i=e("89j1"),r=e("h2By"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-625a7c31",null);s.a=o.exports},Gi1T:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("nav-header"),t._v(" "),e("nav-bread",[e("a",{attrs:{href:"javascript:void(0)"}},[t._v("OrderConfirm")])]),t._v(" "),e("div",{staticClass:"orderconfirm"},[e("div",{staticClass:"public"},[e("h2",[t._v("订单详情")]),t._v(" "),e("div",{staticClass:"cart-body"},[t._m(0),t._v(" "),e("div",{staticClass:"cart-main"},t._l(t.cartList,function(s,a){return s.checked?e("dl",{key:a},[e("dd",{staticClass:"check"},[e("img",{attrs:{src:"../../static/"+s.productImg,alt:s.productName}})]),t._v(" "),e("dd",{staticClass:"product"},[t._v(t._s(s.productName))]),t._v(" "),e("dd",{staticClass:"des"},[t._v("颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的! ")]),t._v(" "),e("dd",{staticClass:"price text-right"},[t._v(t._s(t._f("currency")(s.productPrice,"¥")))]),t._v(" "),e("dd",{staticClass:"num text-center"},[t._v("\n              "+t._s(s.productNum)+"\n            ")]),t._v(" "),e("dd",{staticClass:"subtotal text-right"},[t._v(t._s(t._f("currency")(s.productPrice*s.productNum,"¥")))]),t._v(" "),e("dd",{staticClass:"operation"})]):t._e()})),t._v(" "),e("div",{staticClass:"cart-price"},[e("p",[t._v("商品总金额:"),e("span",[t._v(t._s(t._f("currency")(t.allPrice,"¥")))])]),t._v(" "),e("p",[t._v("返现:"),e("span",[t._v(t._s(t._f("currency")(t.rePrice,"¥")))])]),t._v(" "),e("p",[t._v("运费:"),e("span",[t._v(t._s(t._f("currency")(t.freight,"¥")))])]),t._v(" "),e("p",[t._v("应付总额:"),e("span",[t._v(t._s(t._f("currency")(t.price,"¥")))])])]),t._v(" "),e("div",{staticClass:"next btn",on:{click:t.next}},[t._v("\n          next\n        ")]),t._v(" "),e("div",{staticClass:"next btn left",on:{click:t.prv}},[t._v("\n          prv\n        ")])])]),t._v(" "),e("vue-model",{attrs:{message:t.usermodelMessage,isShow:t.userisModel},on:{close:function(s){t.userisModel=!1}}})],1),t._v(" "),e("nav-footer")],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cart-dl"},[e("dl",[e("dd",{staticClass:"check"}),t._v(" "),e("dd",{staticClass:"product"},[t._v("商品")]),t._v(" "),e("dd",{staticClass:"des"}),t._v(" "),e("dd",{staticClass:"price text-right"},[t._v("单价")]),t._v(" "),e("dd",{staticClass:"num text-center"},[t._v("数量")]),t._v(" "),e("dd",{staticClass:"subtotal text-right"},[t._v("小计")]),t._v(" "),e("dd",{staticClass:"operation"},[t._v("操作")])])])}],r={render:a,staticRenderFns:i};s.a=r},HCTz:function(t,s,e){"use strict";var a=e("3N/K"),i=e("mtWM"),r=e.n(i);s.a={name:"Header",data:function(){return{userName:"",userPwd:"",userErrTip:"",isUserLogin:!1,isUserRegister:!1}},computed:{nickName:function(){return this.$store.state.nickName},cartCount:function(){return this.$store.state.cartCount}},methods:{login:function(){var t=this;if(!this.userName.trim()||!this.userPwd.trim())return void(this.userErrTip="用户名或密码不能为空！");r.a.post("/users/login",{userName:this.userName,userPwd:this.userPwd}).then(function(s){var e=s.data;200===e.status?(t.isUserLogin=!1,t.$store.commit("updateUserInfo",e.result.userName),t.getCartCount()):t.userErrTip=e.msg})},logOut:function(){var t=this;r.a.post("/users/logout").then(function(s){200===s.data.status&&(t.$store.commit("updateUserInfo",""),t.$store.state.cartCount=0)})},checkLogin:function(){var t=this;r.a.get("/users/cheklogin").then(function(s){var e=s.data;200===e.status&&(t.$store.commit("updateUserInfo",JSON.parse(e.result).userName),t.getCartCount())})},getCartCount:function(){var t=this;r.a.get("/users/cartcount").then(function(s){var e=s.data;200===e.status&&(t.$store.state.cartCount=0,t.$store.commit("updateCartCount",e.result))})},goCart:function(){this.$router.push({name:"Cart"})}},mounted:function(){this.checkLogin()},components:{VueModel:a.a}}},HtRn:function(t,s,e){"use strict";function a(t){e("BHtX")}var i=e("/JqP"),r=e("UumL"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-586eba74",null);s.a=o.exports},JsEr:function(t,s,e){"use strict";function a(t){e("3M7r")}var i=e("QCwY"),r=e("w76v"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-3410de0b",null);s.a=o.exports},LGns:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",[e("p",[t._v("我是页脚")])])}],r={render:a,staticRenderFns:i};s.a=r},LL5F:function(t,s){},M93x:function(t,s,e){"use strict";function a(t){e("7Q5r")}var i=e("xJD8"),r=e("s3ZW"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,null,null);s.a=o.exports},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i=e("NYxO"),r=e("M93x"),n=e("YaEn"),c=e("cTzj"),o=e.n(c),d=e("bqTm"),u=e.n(d),l=e("yor2");a.a.use(u.a),a.a.use(o.a,{preLoad:1.3,error:"/static/dist/error.png",loading:"/static/dist/loading.gif",attempt:1}),a.a.use(i.a),a.a.filter("currency",l.a),a.a.config.productionTip=!1;var v=new i.a.Store({state:{nickName:"",cartCount:0},mutations:{updateUserInfo:function(t,s){t.nickName=s},updateCartCount:function(t,s){t.cartCount+=s}}});new a.a({el:"#app",store:v,router:n.a,template:"<App/>",components:{App:r.a}})},QCwY:function(t,s,e){"use strict";var a=e("teIl"),i=e("TVmP"),r=e("HtRn"),n=e("3N/K"),c=e("mtWM"),o=e.n(c);s.a={name:"OrderSuccess",data:function(){return{isOrderGet:!0,price:0,orderId:0,modelMessage:"",isModel:!1}},mounted:function(){this.getOrder()},methods:{getOrder:function(){var t=this;o.a.get("/users/order",{params:{orderId:this.$route.params.orderId}}).then(function(s){var e=s.data;200===e.status?(t.price=e.result.price,t.orderId=e.result.orderId):(t.isOrderGet=!1,t.modelMessage=e.msg,t.isModel=!0)})}},components:{NavHeader:a.a,NavFooter:i.a,NavBread:r.a,VueModel:n.a}}},RsZO:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZjYwIj4NCiAgPHBhdGggb3BhY2l0eT0iLjI1IiBkPSJNMTYgMCBBMTYgMTYgMCAwIDAgMTYgMzIgQTE2IDE2IDAgMCAwIDE2IDAgTTE2IDQgQTEyIDEyIDAgMCAxIDE2IDI4IEExMiAxMiAwIDAgMSAxNiA0Ii8+DQogIDxwYXRoIGQ9Ik0xNiAwIEExNiAxNiAwIDAgMSAzMiAxNiBMMjggMTYgQTEyIDEyIDAgMCAwIDE2IDR6Ij4NCiAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZnJvbT0iMCAxNiAxNiIgdG89IjM2MCAxNiAxNiIgZHVyPSIwLjhzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4NCiAgPC9wYXRoPg0KPC9zdmc+DQo="},TVmP:function(t,s,e){"use strict";function a(t){e("9Emk")}var i=e("UthT"),r=e("LGns"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-6a14d762",null);s.a=o.exports},UthT:function(t,s,e){"use strict";s.a={}},UumL:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("nav",{staticClass:"bread"},[e("div",{staticClass:"public"},[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" / \n        "),t._t("default")],2)])},i=[],r={render:a,staticRenderFns:i};s.a=r},XVmu:function(t,s){},YFNf:function(t,s){},YaEn:function(t,s,e){"use strict";var a=e("7+uW"),i=e("/ocq"),r=e("GWJv"),n=e("5Z7Z"),c=e("/rwO"),o=e("9I81"),d=e("JsEr");a.a.use(i.a),s.a=new i.a({routes:[{path:"/",name:"GoodList",component:r.a},{path:"/cart",name:"Cart",component:n.a},{path:"/address",name:"Address",component:c.a},{path:"/orderconfirm/:addressId",name:"OrderConfirm",component:o.a},{path:"/ordersuccess/:orderId",name:"OrderSuccess",component:d.a}]})},cAnY:function(t,s){},e75Y:function(t,s,e){"use strict";var a=e("teIl"),i=e("TVmP"),r=e("HtRn"),n=e("3N/K"),c=e("mtWM"),o=e.n(c);s.a={name:"Address",data:function(){return{addressList:[],defaultlimit:3,limitNum:3,addressIndex:0,delAddressId:0,delAddressMessage:"你确定要删除此地址吗？",IsDelAddressModel:!1,ModelMessage:"",isModel:!1}},computed:{addressListFilter:function(){return this.addressList.slice(0,this.limitNum)}},watch:{"$store.state.nickName":function(t){t&&this.getAddressList()}},methods:{getAddressList:function(){var t=this;o.a.get("/users/address").then(function(s){var e=s.data;200===e.status?t.addressList=t.sortAddress(e.result):(t.isModel=!0,t.ModelMessage=e.msg)})},sortAddress:function(t){return t.forEach(function(s,e){if(s.checked){var a=t.splice(e,1);t.unshift(a[0])}}),t},limitSwitch:function(){this.addressListFilter.length<=this.defaultlimit?this.limitNum=this.addressList.length:this.limitNum=this.defaultlimit},setDefaultChecked:function(t){var s=this;o.a.post("/users/address/setdefault",{addressId:t}).then(function(t){200===t.data.status&&s.getAddressList()})},delAddressConfirm:function(t){this.delAddressId=t,this.IsDelAddressModel=!0},delAddress:function(){var t=this;this.IsDelAddressModel=!1,o.a.post("/users/address/delete",{addressId:this.delAddressId}).then(function(s){var e=s.data;200===e.status?t.getAddressList():(t.ModelMessage=e.msg,t.isModel=!0)})},next:function(){var t=this.addressList[this.addressIndex].addressId;t&&this.$router.push({name:"OrderConfirm",params:{addressId:t}})},prv:function(){this.$router.push({name:"Cart"})},changeAddressIndex:function(t){this.addressIndex=t}},mounted:function(){this.getAddressList()},components:{NavHeader:a.a,NavFooter:i.a,NavBread:r.a,VueModel:n.a}}},h2By:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main"},[a("nav-header"),t._v(" "),a("nav-bread",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("GoodList")])]),t._v(" "),a("div",{staticClass:"goodlist"},[a("div",{staticClass:"goodlist-nav"},[a("div",{staticClass:"public"},[a("div",{staticClass:"right"},[t._v("\n          SortBy: \n          "),a("span",{staticClass:"sortBy"},[t._v("Default")]),t._v(" "),a("span",{staticClass:"sortBy",on:{click:t.sortPrice}},[t._v("Price"),a("span",{class:["iconfont",{"icon-paixu1":t.sortFlog},{"icon-paixu":!t.sortFlog}]})])])])]),t._v(" "),a("div",{staticClass:"goodlist-main public"},[a("div",{staticClass:"left goodlist-body-nav"},[a("ul",{staticClass:"price-filter"},[a("h2",[t._v("Price")]),t._v(" "),a("li",{class:{cur:"All"==t.priceFilterCheck},on:{click:function(s){t.changePriceFilter("All")}}},[t._v("\n            All\n          ")]),t._v(" "),t._l(t.priceFilter,function(s,e){return a("li",{key:e,class:{cur:t.priceFilterCheck==e},on:{click:function(s){t.changePriceFilter(e)}}},[t._v("\n            "+t._s(t._f("currency")(s.startPrice,"¥"))+" — "+t._s(t._f("currency")(s.endPrice,"¥"))+"\n          ")])})],2)]),t._v(" "),a("div",{staticClass:"right goodlist-body"},[a("ul",t._l(t.goodList,function(s,e){return a("li",{key:e,staticClass:"item"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"../../static/"+s.productImg,expression:"'../../static/' + item.productImg"}],attrs:{alt:s.productName}}),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(s.productName))]),t._v(" "),a("p",{staticClass:"price"},[t._v(t._s(t._f("currency")(s.productPrice,"¥")))]),t._v(" "),a("button",{staticClass:"btn cartBtn",on:{click:function(e){t.addCart(s.productId)}}},[t._v("加入购物车")])])})),t._v(" "),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"load-more",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[t.isLodingShow?a("img",{attrs:{src:e("RsZO")}}):t._e()])])]),t._v(" "),a("vue-model",{attrs:{message:t.modelMessage,isShow:t.isModel},on:{close:t.closeModel}})],1),t._v(" "),a("nav-footer")],1)},i=[],r={render:a,staticRenderFns:i};s.a=r},iumI:function(t,s,e){"use strict";var a=e("teIl"),i=e("TVmP"),r=e("HtRn"),n=e("3N/K"),c=e("mtWM"),o=e.n(c);s.a={name:"Cart",data:function(){return{cartList:[],usermodelMessage:"",userisModel:!1,delProductId:"",delIndex:0,delProductMessage:"确定删除该商品吗?",delisModel:!1}},watch:{"$store.state.nickName":function(t){t&&this.getCartList()}},mounted:function(){this.getCartList()},methods:{getCartList:function(){var t=this;o.a.get("/users/cartlist").then(function(s){var e=s.data;200===e.status?t.cartList=e.result:(t.usermodelMessage=e.msg,t.userisModel=!0)})},delProductConfirm:function(t,s){this.delProductId=t,this.delisModel=!0,this.delIndex=s},delProduct:function(){var t=this;this.delisModel=!1,o.a.post("/users/cart/delete",{productId:this.delProductId}).then(function(s){var e=s.data;t.usermodelMessage=e.msg,t.userisModel=!0,200===e.status&&(t.$store.commit("updateCartCount",-t.cartList[t.delIndex].productNum),t.cartList.splice(t.delIndex,1))})},update:function(t,s){var e=this;if("add"===t)s.productNum++;else if("minus"===t){if(s.productNum<=1)return;s.productNum--}else s.checked=!s.checked;o.a.post("/users/cart/update",{productId:s.productId,productNum:s.productNum,checked:s.checked}).then(function(a){200!==a.data.status&&"check"===t?s.checked=!s.checked:"add"===t?e.$store.commit("updateCartCount",1):"minus"===t&&e.$store.commit("updateCartCount",-1)})},checkAll:function(){var t=!this.isCheckAll;this.cartList.forEach(function(s){s.checked=t}),o.a.post("/users/cart/checkall",{checked:t}).then(function(t){console.log(t.data.msg)})},getCheckLength:function(){var t=0;return this.cartList.forEach(function(s){s.checked&&t++}),t},goChooseAddress:function(){this.getCheckLength()>0&&this.$router.push({path:"/address"})}},computed:{isCheckAll:function(){return this.getCheckLength()===this.cartList.length},getAllPrice:function(){var t=0;return this.cartList.forEach(function(s){s.checked&&(t+=s.productPrice*s.productNum)}),t}},components:{NavHeader:a.a,NavBread:r.a,NavFooter:i.a,VueModel:n.a}}},jBcw:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("nav-header"),t._v(" "),e("nav-bread",[e("a",{attrs:{href:"javascript:void(0)"}},[t._v("Cart")])]),t._v(" "),e("div",{staticClass:"cart"},[e("div",{staticClass:"public"},[e("h2",[t._v("全部商品")]),t._v(" "),e("div",{staticClass:"cart-body"},[e("div",{staticClass:"cart-dl"},[e("dl",[e("dd",{staticClass:"check"},[e("label",{on:{click:t.checkAll}},[e("span",{class:["iconfont","icon-xuanze",{checked:t.isCheckAll}]}),t._v("全选\n              ")])]),t._v(" "),e("dd",{staticClass:"product"},[t._v("商品")]),t._v(" "),e("dd",{staticClass:"des"}),t._v(" "),e("dd",{staticClass:"price text-right"},[t._v("单价")]),t._v(" "),e("dd",{staticClass:"num text-center"},[t._v("数量")]),t._v(" "),e("dd",{staticClass:"subtotal text-right"},[t._v("小计")]),t._v(" "),e("dd",{staticClass:"operation"},[t._v("操作")])])]),t._v(" "),e("div",{staticClass:"cart-main"},t._l(t.cartList,function(s,a){return e("dl",{key:a},[e("dd",{staticClass:"check"},[e("span",{class:["iconfont","icon-xuanze",{checked:s.checked}],on:{click:function(e){t.update("check",s)}}}),t._v(" "),e("input",{staticClass:"checkbox",attrs:{type:"checkbox",checked:"item.checked"}}),t._v(" "),e("img",{attrs:{src:"../../static/"+s.productImg,alt:s.productName}})]),t._v(" "),e("dd",{staticClass:"product"},[t._v(t._s(s.productName))]),t._v(" "),e("dd",{staticClass:"des"},[t._v("颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的!颜色: 不要太鲜艳, 我是喜欢的红色的! ")]),t._v(" "),e("dd",{staticClass:"price text-right"},[t._v(t._s(t._f("currency")(s.productPrice,"¥")))]),t._v(" "),e("dd",{staticClass:"num"},[e("button",{staticClass:"add btn",on:{click:function(e){t.update("add",s)}}},[t._v("+")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:s.productNum,expression:"item.productNum"}],staticClass:"text-center",attrs:{type:"text"},domProps:{value:s.productNum},on:{input:function(t){t.target.composing||(s.productNum=t.target.value)}}}),t._v(" "),e("button",{staticClass:"minus btn",on:{click:function(e){t.update("minus",s)}}},[t._v("-")])]),t._v(" "),e("dd",{staticClass:"subtotal text-right"},[t._v(t._s(t._f("currency")(s.productPrice*s.productNum,"¥")))]),t._v(" "),e("dd",{staticClass:"operation"},[e("span",{staticClass:"iconfont icon-shanchu",on:{click:function(e){t.delProductConfirm(s.productId,a)}}})])])})),t._v(" "),e("div",{staticClass:"cart-dl"},[e("dl",[e("dd",{staticClass:"check"},[e("label",{on:{click:t.checkAll}},[e("span",{class:["iconfont","icon-xuanze",{checked:t.isCheckAll}]}),t._v("全选\n              ")])]),t._v(" "),e("dd",{staticClass:"delete"},[t._v("删除选中的商品")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"right"},[e("dd",{staticClass:"productPrice-all"},[t._v("总价："),e("span",[t._v(t._s(t._f("currency")(t.getAllPrice,"¥")))])]),t._v(" "),e("dd",[e("button",{class:["btn",{dis:0==t.getCheckLength()}],on:{click:t.goChooseAddress}},[t._v("去结算")])])])])])])]),t._v(" "),e("vue-model",{attrs:{message:t.usermodelMessage,isShow:t.userisModel},on:{close:function(s){t.userisModel=!1}}}),t._v(" "),e("vue-model",{attrs:{message:t.delProductMessage,isShow:t.delisModel,isTimer:!1},on:{close:function(s){t.delisModel=!1}}},[e("div",{staticClass:"btngroup",slot:"btngroup"},[e("button",{staticClass:"btn",on:{click:t.delProduct}},[t._v("确认")]),t._v(" "),e("button",{staticClass:"btn cancel right",on:{click:function(s){t.delisModel=!1}}},[t._v("取消")])])])],1),t._v(" "),e("nav-footer")],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("dd",{staticClass:"product-check"},[t._v("已选择"),e("span",[t._v("1")]),t._v("件商品")])}],r={render:a,staticRenderFns:i};s.a=r},lBgt:function(t,s){},s3ZW:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={render:a,staticRenderFns:i};s.a=r},teIl:function(t,s,e){"use strict";function a(t){e("386N")}var i=e("HCTz"),r=e("64IQ"),n=e("VU/8"),c=a,o=n(i.a,r.a,c,"data-v-27b00f7e",null);s.a=o.exports},w76v:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("nav-header"),t._v(" "),e("nav-bread",[e("a",{attrs:{href:"javascript:void(0)"}},[t._v("OrderSuccess")])]),t._v(" "),e("div",{staticClass:"orderSuccess"},[e("div",{staticClass:"public"},[e("h1",[t._v("订单详情页面")]),t._v(" "),e("div",{staticClass:"icon"},[t.isOrderGet?e("span",{staticClass:"iconfont icon-smile"}):e("span",{staticClass:"iconfont icon-cry"})]),t._v(" "),e("div",{staticClass:"des"},[e("h2",[t._v(t._s(t.isOrderGet?"订单信息如下......":"获取订单信息失败"))]),t._v(" "),t.isOrderGet?e("p",[e("span",[t._v("Order ID:"+t._s(t.orderId))]),t._v(" "),e("span",[t._v("PRICE:"+t._s(t._f("currency")(t.price,"¥")))])]):t._e()]),t._v(" "),t.isOrderGet?e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn cartBtn"},[t._v("CART LIST")]),t._v(" "),e("button",{staticClass:"btn cartBtn"},[t._v("GOODS LIST")])]):t._e()]),t._v(" "),e("vue-model",{attrs:{message:t.modelMessage,isShow:t.isModel},on:{close:function(s){t.isModel=!1}}})],1),t._v(" "),e("nav-footer")],1)},i=[],r={render:a,staticRenderFns:i};s.a=r},xJD8:function(t,s,e){"use strict";var a=e("lBgt");e.n(a);s.a={name:"app"}},yNte:function(t,s,e){"use strict";var a=e("teIl"),i=e("TVmP"),r=e("HtRn"),n=e("3N/K"),c=e("mtWM"),o=e.n(c);s.a={name:"OrderConfirm",data:function(){return{cartList:[],allPrice:0,rePrice:5,freight:100,usermodelMessage:"",userisModel:!1}},components:{NavHeader:a.a,NavFooter:i.a,NavBread:r.a,VueModel:n.a},computed:{price:function(){return this.allPrice-this.rePrice+this.freight}},mounted:function(){this.getCartList()},methods:{getCartList:function(){var t=this;o.a.get("/users/cartlist").then(function(s){var e=s.data;if(200===e.status){t.cartList=e.result;var a=0;e.result.forEach(function(t){t.checked&&(a+=t.productPrice*t.productNum)}),t.allPrice=a}else t.usermodelMessage=e.msg,t.userisModel=!0})},next:function(){var t=this,s=this.$route.params.addressId;o.a.post("/users/createorder",{price:this.price,addressId:s}).then(function(s){var e=s.data;200===e.status?(t.$router.push({name:"OrderSuccess",params:{orderId:e.result.orderId}}),t.$store.commit("updateCartCount",e.result.productLength)):(t.usermodelMessage=e.msg,t.userisModel=!0)})},prv:function(){this.$router.push({name:"Address"})}}}},yor2:function(t,s,e){"use strict";function a(t,s,e){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";s=null!=s?s:"$",e=null!=e?e:2;var a=Math.abs(t).toFixed(e),r=e?a.slice(0,-1-e):a,n=r.length%3,c=n>0?r.slice(0,n)+(r.length>3?",":""):"",o=e?a.slice(-1-e):"";return(t<0?"-":"")+s+c+r.slice(n).replace(i,"$1,")+o}s.a=a;var i=/(\d{3})(?=\d)/g}},["NHnr"]);
//# sourceMappingURL=app.ec6195711a4bf9b20681.js.map